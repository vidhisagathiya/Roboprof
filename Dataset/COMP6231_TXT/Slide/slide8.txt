8.1Lecture 8Artificial Intelligence:Knowledge GraphsPart I: Intelligent Agents, Resource Description Framework (RDF)COMP 6721, Fall 20231 / 658.2Outline1 Introduction2 The Resource Description Framework (RDF)3 Example: Data Integration with Knowledge Graphs4 Notes and Further Reading2 / 658.3Slides Credit• Includes slides from Jay Pujara & Sameer Singh, MiningKnowledge Graphs from Text, https://kgtutorial.github.io/• Includes slides by Ivan Herman, W3C [Her]• Includes slides from Hoifung Poon, Chris Quirk & Scott Wen-TauYih, Machine Reading for Precision Medicine,https://www.microsoft.com/en-us/research/uploads/prod/2018/01/1802_aaai-tutorial_precision-med.pdf3 / 65https://kgtutorial.github.io/https://www.microsoft.com/en-us/research/uploads/prod/2018/01/1802_aaai-tutorial_precision-med.pdfhttps://www.microsoft.com/en-us/research/uploads/prod/2018/01/1802_aaai-tutorial_precision-med.pdf8.4Outline1 IntroductionMotivationWhy Knowledge Graphs?Example: AI for Precision MedicineHistory2 The Resource Description Framework (RDF)3 Example: Data Integration with Knowledge Graphs4 Notes and Further Reading4 / 658.5Eliza5 / 658.6Google Assistant6 / 658.7IBM Watson7 / 658.8Generic Intelligent Assistant Architecture8 / 658.9Example knowledge graph• Knowledge in graph form!• Captures entities, attributes, and relationships• Nodes are entities• Nodes are labeled with attributes (e.g., types)• Typed edges between two nodes capture a relationship between entities21personplaceLiverpoolbandBeatlesJohn Lennon9 / 658.10Why knowledge graphs?• Humans:•Combat information overload•Explore via intuitive structure•Tool for supporting knowledge-driven tasks• AIs:•Key ingredient for many AI tasks•Bridge from data to human semantics•Use decades of work on graph analysis2310 / 658.11Applications 1: QA/Agents2411 / 658.12Applications 2: Decision Support2512 / 658.13Applications 3: Fueling Discovery2613 / 658.14Knowledge Graphs & Industry•Google Knowledge Graph• Google Knowledge Vault•Amazon Product Graph•Facebook Graph API•IBM Watson•Microsoft Satori• Project Hanover/Literome•LinkedIn Knowledge Graph•Yandex Object Answer•Diffbot, GraphIQ, Maana, ParseHub, Reactor Labs, SpazioDati2714 / 658.15Interesting application of Knowledge Graphs40Chronic disease management: develop AI technology for predictive and preventive personalized medicine to reduce the national healthcare expenditure on chronic diseases (90% of total cost)15 / 658.16Top 20 drugs80% non-respondersMedicine Today Is ImpreciseWasted1/3 health spending$1 Trillion / year516 / 658.17Example: Tumor Board KB Curation21The deletion mutation on exon-19 of EGFR gene was present in 16patients, while the L858E point mutation on exon-21 was noted in 10.All patients were treated with gefitinib and showed a partial response.Gefitinib can treat tumors w. EGFR-L858E mutation17 / 658.18PubMed27 million abstractsTwo new abstracts every minuteAdds over one million every year2318 / 658.19…VDR+ binds to SMAD3 to form……JUN expression is induced by SMAD3/4…PMID: 123PMID: 456……Machine ReadingKnowledge Base2919 / 658.20Involvement of p70(S6)-kinase activation in IL-10 up-regulation in human monocytes by gp41 envelope protein of human immunodeficiency virus type 1 ...Complex Semantics20 / 658.21Involvement of p70(S6)-kinase activation in IL-10up-regulation in human monocytes by gp41 envelope protein of human immunodeficiency virus type 1 ...IL-10human monocytegp41 p70(S6)-kinaseGENEGENEGENECELLComplex Semantics21 / 658.22Involvement of p70(S6)-kinase activation in IL-10up-regulation in human monocytes by gp41 envelope protein of human immunodeficiency virus type 1 ...Involvementup-regulationIL-10human monocyteSiteTheme Causegp41 p70(S6)-kinaseactivationTheme CauseThemeREGULATIONREGULATION REGULATIONCELLGENEGENEGENEComplex Semantics22 / 658.23Genomics Knowledge Base (Network)135KITLGMAPK1GRB2IL2MAPK3REGULATION ↑MAPK3 and MAPK1 are in the same familyMAPK1 up-regulates GRB2Likely that MAPK3 up-regulates GRB223 / 658.24History of Knowledge Representation (KR)Simon&NewellGeneral Problem SolverMcCarthyFormalizing CommonsenseHayes&McCarthyFrame ProblemQuillianSemantic NetworksConceptNetBrooksSubsumptionMinsky, FilmoreFramesMcCulloch&PittsArtificial NeuronsMinsky&Pappert“Perceptrons”SystematicityDebate2000              1990                1980             1970               1960               1950              19402000              1990                1980             1970               1960               1950              1940SHRUTIBobrowSTUDENTWinogradSHRDLURumelhart et alBackPropagationSeries of Neural-Symbolic ModelsDescription LogicLenantCycSLIDE COURTESY OF DANIEL KHASHABI24 / 658.25TodayFrom 1950–2020. . .• Concepts have been around for a long time (Semantic Networks,Frames, Description Logic, . . . )1980s/90s• AI/IS systems suffer from the Knowledge Acquisition Bottleneck• One of the reasons for the AI Winter at that timeTechnology• Open standards, based on W3C recommendations, e.g., RDF• Proprietary products, e.g., Neo4J or Oracle Spatial and Graph• We now have substantial knowledge bases available, bothproprietary(e.g., Facebook Graph Search, Google Knowledge Graph) and openaccess (e.g., Wikidata, DBpedia, YAGO)25 / 658.25TodayFrom 1950–2020. . .• Concepts have been around for a long time (Semantic Networks,Frames, Description Logic, . . . )1980s/90s• AI/IS systems suffer from the Knowledge Acquisition Bottleneck• One of the reasons for the AI Winter at that timeTechnology• Open standards, based on W3C recommendations, e.g., RDF• Proprietary products, e.g., Neo4J or Oracle Spatial and Graph• We now have substantial knowledge bases available, bothproprietary(e.g., Facebook Graph Search, Google Knowledge Graph) and openaccess (e.g., Wikidata, DBpedia, YAGO)25 / 658.25TodayFrom 1950–2020. . .• Concepts have been around for a long time (Semantic Networks,Frames, Description Logic, . . . )1980s/90s• AI/IS systems suffer from the Knowledge Acquisition Bottleneck• One of the reasons for the AI Winter at that timeTechnology• Open standards, based on W3C recommendations, e.g., RDF• Proprietary products, e.g., Neo4J or Oracle Spatial and Graph• We now have substantial knowledge bases available, bothproprietary(e.g., Facebook Graph Search, Google Knowledge Graph) and openaccess (e.g., Wikidata, DBpedia, YAGO)25 / 658.26The Linked Open Data Cloud26 / 658.26The Linked Open Data Cloud26 / 658.27TBL at TED on “The Next Web” (2009)https://www.youtube.com/watch?v=OM6XIICm_qo27 / 65https://www.youtube.com/watch?v=OM6XIICm_qo8.28Outline1 Introduction2 The Resource Description Framework (RDF)IntroductionRDF TriplesLiteralsNamespacesSerializationProgramming3 Example: Data Integration with Knowledge Graphs4 Notes and Further Reading28 / 658.2929 / 658.30The W3C “Layer Cake”30 / 658.31Knowledge as Graphshttps://www.w3.org/TR/rdf11-primer/→ Worksheet #7: “Your first Knowledge Graph” & “Graph Updates”31 / 65https://www.w3.org/TR/rdf11-primer/8.32TriplesRepresentation of Knowledge GraphsIn a system, we represent graphs in form of triples:<subject> <predicate> <object>(The predicate is sometimes called property.)Examples<Bob> <is a> <person>.<Bob> <is a friend of> <Alice>.<Bob> <is born on> <the 14th of July 1990>.<Bob> <is interested in> <the Mona Lisa>.<the Mona Lisa> <was created by> <Leonardo daVinci>.→ Worksheet #7: “Triples”32 / 658.32TriplesRepresentation of Knowledge GraphsIn a system, we represent graphs in form of triples:<subject> <predicate> <object>(The predicate is sometimes called property.)Examples<Bob> <is a> <person>.<Bob> <is a friend of> <Alice>.<Bob> <is born on> <the 14th of July 1990>.<Bob> <is interested in> <the Mona Lisa>.<the Mona Lisa> <was created by> <Leonardo daVinci>.→ Worksheet #7: “Triples”32 / 658.33Graphs vs. Triples<subject> <predicate> <object>→ Worksheet #7: “More Triples”33 / 658.34RDF TriplesThe Resource Description Framework (RDF)W3C (World Wide Web Consortium) standard (“recommendation”)• first public draft 1997• RDF 1.0 in 1999; revised in 2004• RDF 1.1 in 2014 (current version)Family of standards: RDF, RDFS, RDFa, Turtle, N3, SPARQL, . . .34 / 658.35RDF TriplesFormat of triplesIn RDF,• Subject and predicate must be URIs (IRIs)• Object can be IRI or literalExamples<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/title>"Mona Lisa" .<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/creator><http://dbpedia.org/resource/Leonardo_da_Vinci> .→ Worksheet #7: “Wikidata” & “Using URIs”35 / 658.35RDF TriplesFormat of triplesIn RDF,• Subject and predicate must be URIs (IRIs)• Object can be IRI or literalExamples<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/title>"Mona Lisa" .<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/creator><http://dbpedia.org/resource/Leonardo_da_Vinci> .→ Worksheet #7: “Wikidata” & “Using URIs”35 / 658.36RDF Literals“Mona Lisa”In this triple:<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/title> "Mona Lisa" ."Mona Lisa" is a string literalThings to know about literals• Literals have a datatype, e.g., string or int• Strings can have a language tag, e.g.,"Leonardo da Vinci"@en"Léonard de Vinci"@fr• Strings are often used to provide human-readable labels• For strings only, datatype can be omitted:"Mona Lisa" is equivalent to "Mona Lisa"^^xsd:string• Again, literals can only appear in the object position of a tripleAll the details about datatypes:https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#section-Datatypes36 / 65https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#section-Datatypes8.36RDF Literals“Mona Lisa”In this triple:<http://www.wikidata.org/entity/Q12418><http://purl.org/dc/terms/title> "Mona Lisa" ."Mona Lisa" is a string literalThings to know about literals• Literals have a datatype, e.g., string or int• Strings can have a language tag, e.g.,"Leonardo da Vinci"@en"Léonard de Vinci"@fr• Strings are often used to provide human-readable labels• For strings only, datatype can be omitted:"Mona Lisa" is equivalent to "Mona Lisa"^^xsd:string• Again, literals can only appear in the object position of a tripleAll the details about datatypes:https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#section-Datatypes36 / 65https://www.w3.org/TR/2014/REC-rdf11-concepts-20140225/#section-Datatypes8.37NamespacesShortening URIsInstead of always writing full URIs (IRIs), we can split them into a prefixand suffix, e.g.:<http://dbpedia.org/resource/Leonardo_da_Vinci>• We define a prefix dbpedia:PREFIX dbpedia: <http://dbpedia.org/resource/>• and now we can simple write:dbpedia:Leonardo_da_Vinci• Note: angle brackets <> only for full IRIs→ reduces dataset sizes, easier to readConventionsCommonly used URLs use the same namespace prefix• E.g., FOAF (friend-of-a-friend):PREFIX foaf: <http://xmlns.com/foaf/0.1/>• Lookup a prefix at https://prefix.cc/→ Worksheet #7: “More URIs” & “Namespaces”37 / 65https://prefix.cc/8.37NamespacesShortening URIsInstead of always writing full URIs (IRIs), we can split them into a prefixand suffix, e.g.:<http://dbpedia.org/resource/Leonardo_da_Vinci>• We define a prefix dbpedia:PREFIX dbpedia: <http://dbpedia.org/resource/>• and now we can simple write:dbpedia:Leonardo_da_Vinci• Note: angle brackets <> only for full IRIs→ reduces dataset sizes, easier to readConventionsCommonly used URLs use the same namespace prefix• E.g., FOAF (friend-of-a-friend):PREFIX foaf: <http://xmlns.com/foaf/0.1/>• Lookup a prefix at https://prefix.cc/→ Worksheet #7: “More URIs” & “Namespaces”37 / 65https://prefix.cc/8.38SerializationFormatsThere is no single format .rdf (like .xml), commonly used are:RDF/XML for data exchange (somewhat deprecated)RDFa for embedding RDF into web pagesN-Triples (N3) for streaming RDF data and bulk dataset up-/downloadTurtle for human-readable filesJSON-LD for web applicationsplus some variations/extensions.N-TriplesSo far, we’ve mostly used the N-Triples format:<http://www.wikidata.org/entity/Q12418> ←↩<http://purl.org/dc/terms/title> "Mona Lisa".each line in a file is one triple, full IRIs only (no namespace prefixes)and ended by a period ’.’38 / 658.38SerializationFormatsThere is no single format .rdf (like .xml), commonly used are:RDF/XML for data exchange (somewhat deprecated)RDFa for embedding RDF into web pagesN-Triples (N3) for streaming RDF data and bulk dataset up-/downloadTurtle for human-readable filesJSON-LD for web applicationsplus some variations/extensions.N-TriplesSo far, we’ve mostly used the N-Triples format:<http://www.wikidata.org/entity/Q12418> ←↩<http://purl.org/dc/terms/title> "Mona Lisa".each line in a file is one triple, full IRIs only (no namespace prefixes)and ended by a period ’.’38 / 658.39TurtleBASE <http://example.org/>PREFIX foaf: <http://xmlns.com/foaf/0.1/>PREFIX xsd: <http://www.w3.org/2001/XMLSchema>PREFIX schema: <http://schema.org/>PREFIX dcterms: <http://purl.org/dc/terms/>PREFIX wd: <http://www.wikidata.org/entity/><bob#me>a foaf:Person ;foaf:knows <alice#me> ;schema:birthDate "1990-07-04"^^xsd:date ;foaf:topic_interest wd:Q12418 .wd:Q12418dcterms:title "Mona␣Lisa" ;dcterms:creator <http://dbpedia.org/resource/Leonardo_da_Vinci> .<http://data.europeana.eu/item/04802/243FA8618938F4117025F17A8B813C5F9AA4D619>dcterms:subject wd:Q12418 .39 / 658.40Graph corresponding to the Turtle examplehttps://www.w3.org/TR/rdf11-primer/40 / 65https://www.w3.org/TR/rdf11-primer/8.41(64) 64 }  For example, using Python+RDFLib:§  a “Graph” object is created§  the RDF file is parsed and results stored in the Graph§  the Graph offers methods to retrieve (or add):•  triples•  (property,object) pairs for a specific subject•  (subject,property) pairs for specific object•  etc.§  the rest is conventional programming…}  Similar tools exist in Java, PHP, etc.41 / 658.42(65) 65   # create a graph from a file   graph = rdflib.Graph()   graph.parse("filename.rdf", format="rdfxml")   # take subject with a known URI   subject = rdflib.URIRef("URI_of_Subject")   # process all properties and objects for this subject   for (s,p,o) in graph.triples((subject,None,None)) :     do_something(p,o)    42 / 658.43Outline1 Introduction2 The Resource Description Framework (RDF)3 Example: Data Integration with Knowledge Graphs4 Notes and Further Reading43 / 658.44Example: Let’s start with a Book. . .44 / 658.45(21) 21 ISBN Author Title Publisher Year 0006511409X id_xyz The Glass Palace id_qpr 2000 ID Name Homepage id_xyz Ghosh, Amitav http://www.amitavghosh.com ID Publisher’s name City id_qpr Harper Collins London 45 / 658.46(22) 22 http://…isbn/000651409X Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author 46 / 658.47(23) 23 }  Relations form a graph§  the nodes refer to the “real” data or contain some literal§  how the graph is represented in machine is immaterial for now47 / 658.48Now the same book in French. . .48 / 658.49(25) 25 A B C D 1 ID Titre Traducteur Original 2 ISBN 2020286682 Le Palais des Miroirs $A12$ ISBN 0-00-6511409-X 3 4 5 6 ID Auteur 7 ISBN 0-00-6511409-X $A11$ 8 9 10 Nom 11 Ghosh, Amitav 12 Besse, Christianne 49 / 658.50(26) 26 http://…isbn/000651409X Ghosh, Amitav Besse, Christianne Le palais des miroirs f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom 50 / 658.51(27) 27 http://…isbn/000651409X Ghosh, Amitav Besse, Christianne Le palais des miroirs f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom http://…isbn/000651409X Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author 51 / 658.52(28) 28 http://…isbn/000651409X Ghosh, Amitav Besse, Christianne Le palais des miroirs f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom http://…isbn/000651409X Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author Same URI! 52 / 658.53(29) 29 a:title Ghosh, Amitav Besse, Christianne Le palais des miroirs f:original f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:year a:city a:p_name a:name a:homepage a:author http://…isbn/000651409X 53 / 658.54(30) 30 }  User of data “F” can now ask queries like:§  “give me the title of the original”•  well, … « donnes-moi le titre de l’original »}  This information is not in the dataset “F”…}  …but can be retrieved by merging with dataset “A”!54 / 658.55(31) 31 }  We “feel” that a:author and f:auteur should be the same}  But an automatic merge doest not know that!}  Let us add some extra information to the merged data:§  a:author same as f:auteur§  both identify a “Person”§  a term that a community may have already defined:•  a “Person” is uniquely identified by his/her name and, say, homepage•  it can be used as a “category” for certain type of resources55 / 658.56(32) 32 Besse, Christianne Le palais des miroirs f:original f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author http://…isbn/000651409X http://…foaf/Person r:type r:type 56 / 658.57(33) 33 }  User of dataset “F” can now query:§  “donnes-moi la page d’accueil de l’auteur de l’original”•  well… “give me the home page of the original’s ‘auteur’”}  The information is not in datasets “F” or “A”…}  …but was made available by:§ merging datasets “A” and datasets “F”§  adding three simple extra statements as an extra “glue”57 / 658.58(34) 34 }  Using, e.g., the “Person”, the dataset can be combined with other sources}  For example, data in Wikipedia can be extracted using dedicated tools§  e.g., the “dbpedia” project can extract the “infobox” information from Wikipedia already… 58 / 658.59(35) 35 Besse, Christianne Le palais des miroirs f:original f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author http://…isbn/000651409X http://…foaf/Person r:type r:type http://dbpedia.org/../Amitav_Ghosh r:type foaf:name w:reference → Worksheet #7: “Enriching Graphs”59 / 658.60(36) 36 Besse, Christianne Le palais des miroirs f:original f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author http://…isbn/000651409X http://…foaf/Person r:type r:type http://dbpedia.org/../Amitav_Ghosh http://dbpedia.org/../The_Hungry_Tide http://dbpedia.org/../The_Calcutta_Chromosome http://dbpedia.org/../The_Glass_Palace r:type foaf:name w:reference w:author_of w:author_of w:author_of w:isbn 60 / 658.61(37) 37 Besse, Christianne Le palais des miroirs f:original f:nom f:traducteur f:auteur http://…isbn/2020386682 f:nom Ghosh, Amitav http://www.amitavghosh.com The Glass Palace 2000 London Harper Collins a:title a:year a:city a:p_name a:name a:homepage a:author http://…isbn/000651409X http://…foaf/Person r:type r:type http://dbpedia.org/../Amitav_Ghosh http://dbpedia.org/../The_Hungry_Tide http://dbpedia.org/../The_Calcutta_Chromosome http://dbpedia.org/../Kolkata http://dbpedia.org/../The_Glass_Palace r:type foaf:name w:reference w:author_of w:author_of w:author_of w:born_in w:isbn w:long w:lat 61 / 658.62(38) 38 }  It may look like it but, in fact, it should not be…}  What happened via automatic means is done every day by Web users!}  The difference: a bit of extra rigour so that machines could do this, too→ Worksheet #7: “AI Agent”62 / 658.63Outline1 Introduction2 The Resource Description Framework (RDF)3 Example: Data Integration with Knowledge Graphs4 Notes and Further Reading63 / 658.64Reading MaterialRequired• [Wor14, Sections 1–3] (RDF Primer)Supplemental• [Yu14, Chapters 1, 2] (Introduction, RDF)64 / 658.65References[Her] Ivan Herman.Tutorial on Semantic Web Technologies.http://www.w3.org/People/Ivan/CorePresentations/RDFTutorial/.[Wor14] World Wide Web Consortium (W3C).RDF 1.1 Primer.http://www.w3.org/TR/rdf11-primer/, 24 June 2014.[Yu14] Liyang Yu.A Developer’s Guide to the Semantic Web.Springer-Verlag Berlin Heidelberg, 2nd edition, 2014.https://concordiauniversity.on.worldcat.org/oclc/897466408.65 / 65http://www.w3.org/People/Ivan/CorePresentations/RDFTutorial/http://www.w3.org/TR/rdf11-primer/https://concordiauniversity.on.worldcat.org/oclc/897466408	Introduction	Introduction	Motivation	Why Knowledge Graphs?	Example: AI for Precision Medicine	History	The Resource Description Framework (RDF)	Introduction	RDF Triples	Literals	Namespaces	Serialization	Programming	Example: Data Integration with Knowledge Graphs	Notes and Further Reading